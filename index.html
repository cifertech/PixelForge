<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GitBadge by CiferTech</title>
  <link rel="stylesheet" href="public/style.css">
</head>
<body>

<div class="app-shell">
  <aside class="sidebar panel">
    <header class="appHeader">
      <div>
        <h1>GitBadge</h1>
        <p class="subtitle">Created by CiferTech. Build badges or template banners with a live preview and Markdown output.</p>
      </div>
    </header>
  <div class="sidebar-card">
    <div class="section-title">Project Links</div>
    <div class="project-links">
      <a class="project-link" data-emoji="ðŸ™" href="https://github.com/cifertech" target="_blank" rel="noopener">GitHub</a>
      <a class="project-link" data-emoji="ðŸ’–" href="https://patreon.com/cifertech" target="_blank" rel="noopener">Patreon</a>
    </div>
  </div>
  <div class="sidebar-card">
    <div class="section-title">API</div>
    <label>API Base URL</label>
    <input id="apiBase" placeholder="https://your-api.example.com">
    <p class="subtitle">Required on GitHub Pages to reach /api/badge.</p>
  </div>
  <div class="sidebar-card">
    <div class="section-title">Mode</div>
    <label>Mode</label>
    <select id="mode" onchange="toggleMode(); scheduleGenerate();">
      <option value="badge">Badge</option>
      <option value="template" selected>Template banner</option>
    </select>

    <label>Owner</label>
    <input id="owner" placeholder="Owner">
    <label>Repository</label>
    <input id="repo" placeholder="Repository">
  </div>

  <div class="sidebar-card" id="templatePanel" style="display:none">
    <div class="section-title">Template Banner</div>
    <label>Title (banner)</label>
    <input id="title" placeholder="ESP32-DIV">

    <label>Subtitle (optional)</label>
    <input id="subtitle" placeholder="Short description">

    <label>Logo (drag & drop)</label>
    <div class="dropzone" id="logoDrop">
      Drop an image here or click to choose
      <div class="dropzoneHint" id="logoDropHint">No file selected</div>
    </div>
    <input id="logoFile" type="file" accept="image/*" style="display:none">

    <label>Logo URL (optional)</label>
    <input id="logoUrl" placeholder="https://...">

    <label>Background (drag & drop)</label>
    <div class="dropzone" id="bgDrop">
      Drop an image here or click to choose
      <div class="dropzoneHint" id="bgDropHint">No file selected</div>
    </div>
    <input id="bgFile" type="file" accept="image/*" style="display:none">

    <label>Background image URL (optional)</label>
    <input id="bgImageUrl" placeholder="https://...">

    <input type="hidden" id="drawIcons" value="1">

    <label>Slot 1</label>
    <select id="slot1">
      <option value="stars" selected>Stars</option>
      <option value="forks">Forks</option>
      <option value="downloads">Downloads (releases)</option>
      <option value="prs">PRs (open)</option>
      <option value="issues_only">Issues-only (open)</option>
      <option value="contributors">Contributors</option>
      <option value="last_commit">Last commit (date)</option>
      <option value="latest_release">Latest release (tag)</option>
      <option value="watchers">Watchers</option>
      <option value="issues">Issues (incl PRs)</option>
    </select>

    <label>Slot 2</label>
    <select id="slot2">
      <option value="forks" selected>Forks</option>
      <option value="stars">Stars</option>
      <option value="downloads">Downloads (releases)</option>
      <option value="prs">PRs (open)</option>
      <option value="issues_only">Issues-only (open)</option>
      <option value="contributors">Contributors</option>
      <option value="last_commit">Last commit (date)</option>
      <option value="latest_release">Latest release (tag)</option>
      <option value="watchers">Watchers</option>
      <option value="issues">Issues (incl PRs)</option>
    </select>

    <label>Slot 3</label>
    <select id="slot3">
      <option value="downloads" selected>Downloads (releases)</option>
      <option value="stars">Stars</option>
      <option value="forks">Forks</option>
      <option value="prs">PRs (open)</option>
      <option value="issues_only">Issues-only (open)</option>
      <option value="contributors">Contributors</option>
      <option value="last_commit">Last commit (date)</option>
      <option value="latest_release">Latest release (tag)</option>
      <option value="watchers">Watchers</option>
      <option value="issues">Issues (incl PRs)</option>
    </select>
  </div>

  <div class="sidebar-card">
    <div class="section-title">Theme</div>
    <label>Theme preset</label>
    <select id="theme">
      <option value="">Custom</option>
      <option value="githubDark">GitHub Dark</option>
      <option value="dracula">Dracula</option>
      <option value="nord">Nord</option>
      <option value="solarizedDark">Solarized Dark</option>
      <option value="catppuccinMocha">Catppuccin Mocha</option>
      <option value="tokyoNight">Tokyo Night</option>
      <option value="monokai">Monokai</option>
      <option value="gruvboxDark">Gruvbox Dark</option>
      <option value="emberGlow">Ember Glow</option>
    </select>
  </div>

  <div class="sidebar-card" id="metricsPanel">
    <div class="section-title">Metrics</div>
    <fieldset class="metrics">
      <legend>Metrics</legend>
      <label><input type="checkbox" value="stars" checked> Stars</label>
      <label><input type="checkbox" value="forks" checked> Forks</label>
      <label><input type="checkbox" value="issues" checked> Issues</label>
      <label><input type="checkbox" value="watchers" checked> Watchers</label>
      <label><input type="checkbox" value="language"> Language</label>
      <label><input type="checkbox" value="prs"> PRs (open)</label>
      <label><input type="checkbox" value="issues_only"> Issues-only (open)</label>
      <label><input type="checkbox" value="contributors"> Contributors</label>
      <label><input type="checkbox" value="latest_release"> Latest release</label>
      <label><input type="checkbox" value="last_commit"> Last commit</label>
      <label><input type="checkbox" value="license"> License</label>
      <label><input type="checkbox" value="size"> Size</label>
      <label><input type="checkbox" value="created"> Created</label>
      <label><input type="checkbox" value="updated"> Updated</label>
    </fieldset>
  </div>

  <div class="sidebar-card">
    <div class="section-title">Typography</div>
    <label>Title font size (px)</label>
    <input id="titleSize" type="number" min="10" max="32" step="1" value="14">

    <label>Metrics font size (px)</label>
    <input id="metricSize" type="number" min="9" max="24" step="1" value="12">
  </div>

  <div class="sidebar-card">
    <div class="section-title">Style</div>
    <label>Layout</label>
    <select id="style">
      <option value="wide" selected>Wide</option>
      <option value="compact">Compact</option>
    </select>

    <div class="color-pickers">
      <label>Background</label>
      <input type="color" id="bg" value="#0d1117">

      <label>Text</label>
      <input type="color" id="text" value="#c9d1d9">

      <label>Accent</label>
      <input type="color" id="accent" value="#00f7ff">
    </div>

    <label class="inlineCheck">
      <input type="checkbox" id="transparentBg"> Transparent background
    </label>

    <label class="inlineCheck">
      <input type="checkbox" id="outline" checked> Outline
    </label>

    <label class="inlineCheck">
      <input type="checkbox" id="glow"> Glow Effect
    </label>

    <label class="inlineCheck">
      <input type="checkbox" id="emoji" checked> Emoji labels
    </label>
  </div>

  <button class="primary" onclick="generate()">Generate</button>
  </aside>

  <main class="main">
    <div class="previewPanel">
      <h2>Preview</h2>
      <div class="previewCard">
        <img id="preview" alt="Badge preview">
      </div>

      <div class="actionRow">
        <button id="downloadSvg" onclick="downloadSvg()" disabled>Download SVG</button>
      </div>

      <div id="status" aria-live="polite"></div>

      <h2>README Markdown</h2>
      <textarea id="markdown" readonly></textarea>
    </div>
  </main>
</div>

<script src="public/app.js"></script>
</body>
</html>
